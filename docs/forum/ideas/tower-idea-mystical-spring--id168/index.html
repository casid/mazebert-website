

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="nofollow">
        <meta name="language" content="en">
        <title>[Tower Idea] Mystical Spring</title>
        <link rel="stylesheet" href="https://mazebert.com/assets/css/mazebert.css?t=1690908854">
        <script src="https://mazebert.com/assets/js/jquery.min.js?t=1690908854"></script>
    </head>

    <body>
        <header>
            <nav class="navigation">
                <a class="nav-brand" href="https://mazebert.com/">
                    <img srcset="https://mazebert.com/assets/images/app-icon.png?t=1690908854, https://mazebert.com/assets/images/app-icon-2x.png?t=1690908854 2x" src="https://mazebert.com/assets/images/app-icon-2x.png?t=1690908854" class="app-icon" alt="Mazebert TD - Play your cards wisely to survive">
                </a>
                <div class="nav-mobile">
                    <div id="nav-icon">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <span class="forum-badge badge"></span>
                </div>
                <div class="nav-menu">
                    <a href="https://mazebert.com/news/" class="nav-item">News</a>
                    <a href="https://mazebert.com/stats/" class="nav-item">Stats</a>
                    <a href="https://mazebert.com/cards/" class="nav-item">Cards</a>
                    <a href="https://mazebert.com/forum/" class="nav-item is-active">Forum<span class="forum-badge badge"></span></a>
                    <a href="https://mazebert.com/ladder/" class="nav-item">Ladder</a>
                    <a href="https://mazebert.com/credits/" class="nav-item">Credits</a>
                    <a href="https://mazebert.com/reviews/" class="nav-item">Reviews</a>
                </div>
            </nav>
        </header>

        <main class="has-navbar-fixed-top">
            <div class="container">
                <nav class="breadcrumbs">
                    <a href="https://mazebert.com/forum/">Forum</a>&nbsp;/
                    <a href="https://mazebert.com/forum/ideas/">Ideas</a>&nbsp;/
                    <span>[Tower Idea] Mystical Spring</span>
                </nav>
            </div>
            

    <div class="container">
        
<div class="post-content">
    <div class="post-author first">
        <div class="profile-picture">
            <img class="shadow" alt="jhoijhoi" src="https://secure.gravatar.com/avatar/03c60ecedf90019fc1b53d97578a344d?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/7623/">jhoijhoi</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;112<br>
                Rank:&nbsp;264<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1398738725">
        </div>
    </div>

    <h1>[Tower Idea] Mystical Spring</h1>
    <a id="168"></a>

    <span class="post-content-text">Would love a "potion spawning" tower :) EDITED to include suggestions by Eaebon, Speedle and BimoIch. <strong>EDITED</strong> it again to add the unique purple elixir that would drop when the tower is level 99. Edited to add the Elixirs that would drop (understandably the elixirs that drop either have to be white common potions OR weak elixir versions for balancing).

=========================

<strong>Unique Tower</strong> – Nature

<strong>Name:</strong> Mystical Spring
<strong>Description:</strong> Legend tells of a mysterious well of deep water, the golden liquid just out of reach, shimmering with untold promises.
<strong>Cost:</strong> 4000 gold
<strong>Base attack:</strong> (no attack)
<strong>Base speed:</strong> (no attack speed)
<strong>Range:</strong> (no range)
<strong>Gender:</strong> (no gender)

<strong>EFFECT 1: Overflow</strong>
Every round there is a 10% chance for the well to overflow, spawning an elixir. The elixir quality depends on the level of the Mystical Spring.

<strong>EFFECT 2: Knowledge</strong>
Upon activation of Overflow, Mystical Spring tastes and samples the surrounding forest floor.
+ 5 levels every Overflow

<strong>EFFECT 3: Lucky Wish (Active)</strong>
Flip a coin worth 1000G into the well. The chance of Overflow is doubled for the round. Cannot wish again until effect has worn off.

<strong>DROP @ LVL 99</strong>
<strong>Potion</strong> – Unique (Purple Gem)
<strong>Name:</strong> Elixir of Energy
<strong>Description:</strong> Energy can be neither created nor destroyed, but can change form...
<strong>EFFECT: Conservation</strong>
Upon consumption of this elixir, the tower loses 15% of its total attack damage and converts it to attack speed.

=========================

<strong>Potion</strong> – Common (White Gem)
<strong>Name:</strong> Elixir of Ardour
<strong>Description:</strong> A strong and barely controllable emotion overcomes the tower.
<strong>EFFECT: Fervour</strong>
The damage of the drinker is permanently increased by 4%.
+0.03% damage per level.

<strong>Potion</strong> – Common (White Gem)
<strong>Name:</strong> Elixir of Haste
<strong>Description:</strong> A sense of desperate urgency overcomes the tower.
<strong>EFFECT: Feverish</strong>
The attack speed of the drinker is permanently increased by 3%.
+0.02% attack speed per level.

<strong>Potion</strong> – Common (White Gem)
<strong>Name:</strong> Elixir of Dire
<strong>Description:</strong> A steady calm overcomes the tower.
<strong>EFFECT: Focus</strong>
The critical strike chance of the drinker is permanently increased by 0.7%.
+0.01% crit damage per level.
+0.001% crit chance per level.

<strong>Potion</strong> – Common (White Gem)
<strong>Name:</strong> Elixir of Chance
<strong>Description:</strong> A feeling of confidence settles upon the tower.
<strong>EFFECT: Fate</strong>
The item chance and item quality of the carrier are permanently increased by 4%.
+0.03% item chance per level.
+0.03% item quality per level.</span>

    <button data-playerid="7623" data-postid="168" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="BimoIch" src="https://secure.gravatar.com/avatar/781fbb870ccd7b5e8a232d2f7adfd6cc?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/6933/">BimoIch</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;83<br>
                Rank:&nbsp;1621<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1398773791">
        </div>
    </div>

    <a id="1513"></a>

    <span class="post-content-text">i love that idea,since it's a bit hard to obtain better (blue or yellow) potion.
but,i think 3000 is still too cheap..
even if the tower start appear in wave 150,by the time we get that we absolutely can buy that.
i think it's better to around 5000-6000</span>

    <button data-playerid="6933" data-postid="1513" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="jhoijhoi" src="https://secure.gravatar.com/avatar/03c60ecedf90019fc1b53d97578a344d?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/7623/">jhoijhoi</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;112<br>
                Rank:&nbsp;264<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1398774179">
        </div>
    </div>

    <a id="1515"></a>

    <span class="post-content-text">Yeah, I've found that in some runs I barely get any potions at all, which is honestly very crippling.

I suggested around 3000 as the Dark Forge (item drop tower equivalent) is around that price. However, as oils stack and disappear, maybe it should cost more.</span>

    <button data-playerid="7623" data-postid="1515" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="Eaebon" src="https://secure.gravatar.com/avatar/50ac63adba3bc4a3da00e617af496048?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4>Eaebon</h4>
            <h5 class="subtitle">
                Level:&nbsp;-<br>
                Rank:&nbsp;-<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399157007">
        </div>
    </div>

    <a id="1556"></a>

    <span class="post-content-text">nice idea!

Effect 2: Lucky Wish (Active)
Pay 500 golds. The chance of Overflow becomes doubled for 10 seconds. Cannot wish again until effect has worn off.</span>

    <button data-playerid="0" data-postid="1556" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="jhoijhoi" src="https://secure.gravatar.com/avatar/03c60ecedf90019fc1b53d97578a344d?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/7623/">jhoijhoi</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;112<br>
                Rank:&nbsp;264<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399159107">
        </div>
    </div>

    <a id="1558"></a>

    <span class="post-content-text">^Love that idea, but how can you use active abilities? Or maybe every 5 minutes it checks to see if you have 500 gold, taxes you that gold and increases the chance for Overflow? (it'd drain your gold pretty quickly if you haven't been saving up, huge risk)</span>

    <button data-playerid="7623" data-postid="1558" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="Eaebon" src="https://secure.gravatar.com/avatar/50ac63adba3bc4a3da00e617af496048?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4>Eaebon</h4>
            <h5 class="subtitle">
                Level:&nbsp;-<br>
                Rank:&nbsp;-<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399160596">
        </div>
    </div>

    <a id="1559"></a>

    <span class="post-content-text">active = user trigger, like Mr.Iron's construction skill.</span>

    <button data-playerid="0" data-postid="1559" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="jhoijhoi" src="https://secure.gravatar.com/avatar/03c60ecedf90019fc1b53d97578a344d?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/7623/">jhoijhoi</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;112<br>
                Rank:&nbsp;264<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399163797">
        </div>
    </div>

    <a id="1561"></a>

    <span class="post-content-text">Oh, of course! Silly me ^^</span>

    <button data-playerid="7623" data-postid="1561" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="Andy" src="https://secure.gravatar.com/avatar/5bf536d27c50cc30a6945c1d63f48535?s=160&amp;d=retro&amp;r=g" height="80" width="80">
            <div class="badge-wrapper">
                <span class="level">43</span>
                <img alt="Supporter Level 43" src="https://mazebert.com/assets/images/supporter-level-bg.png?t=1690908854" srcset="https://mazebert.com/assets/images/supporter-level-bg@2x.png?t=1690908854 2x">
            </div>
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/115/">Andy</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;109<br>
                Rank:&nbsp;325<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399195436">
        </div>
        <a href="https://mazebert.com/supporters/rag-nar-rog-supporter-pack/">
            <img alt="Rag nar Rog Supporter" style="float: right;" src="https://mazebert.com/assets/images/rnr-supporter-badge.png?t=1690908854" srcset="https://mazebert.com/assets/images/rnr-supporter-badge@2x.png?t=1690908854 2x"/>
        </a><br>
        <a href="https://mazebert.com/supporters/rise-of-cthulhu-supporter-pack/">
            <img alt="Rise of Cthulhu Supporter" style="float: right;" src="https://mazebert.com/assets/images/roc-supporter-badge.png?t=1690908854" srcset="https://mazebert.com/assets/images/roc-supporter-badge@2x.png?t=1690908854 2x"/>
        </a><br>
        <a href="https://mazebert.com/supporters/dawn-of-light-supporter-pack/">
            <img alt="Dawn of Light Supporter" style="float: right;" src="https://mazebert.com/assets/images/dol-supporter-badge.png?t=1690908854" srcset="https://mazebert.com/assets/images/dol-supporter-badge@2x.png?t=1690908854 2x"/>
        </a><br>
    </div>

    <a id="1568"></a>

    <span class="post-content-text">Really like this tower idea. Especially another active ability sounds nice :-)</span>

    <button data-playerid="115" data-postid="1568" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="Speedle" src="https://secure.gravatar.com/avatar/8b8455fa0201e861b4d8e70042dea3a2?s=160&amp;d=retro&amp;r=g" height="80" width="80">
            <div class="badge-wrapper">
                <span class="level">10</span>
                <img alt="Supporter Level 10" src="https://mazebert.com/assets/images/supporter-level-bg.png?t=1690908854" srcset="https://mazebert.com/assets/images/supporter-level-bg@2x.png?t=1690908854 2x">
            </div>
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/9295/">Speedle</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;86<br>
                Rank:&nbsp;1323<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399199617">
        </div>
        <a href="https://mazebert.com/supporters/rag-nar-rog-supporter-pack/">
            <img alt="Rag nar Rog Supporter" style="float: right;" src="https://mazebert.com/assets/images/rnr-supporter-badge.png?t=1690908854" srcset="https://mazebert.com/assets/images/rnr-supporter-badge@2x.png?t=1690908854 2x"/>
        </a><br>
    </div>

    <a id="1570"></a>

    <span class="post-content-text">How tower will lvling?</span>

    <button data-playerid="9295" data-postid="1570" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="BimoIch" src="https://secure.gravatar.com/avatar/781fbb870ccd7b5e8a232d2f7adfd6cc?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/6933/">BimoIch</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;83<br>
                Rank:&nbsp;1621<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399205945">
        </div>
    </div>

    <a id="1573"></a>

    <span class="post-content-text">@Speedle : what do you mean with "living"? :|

i love the active ability idea,but since we can freely use active ability,500 way too cheap. 1000 maybe? :D
-Or maybe every 5 minutes it checks to see if you have 500 gold, taxes you that gold and increases the chance for Overflow? (it’d drain your gold pretty quickly if you haven’t been saving up, huge risk)-
^this idea can be the alternative from the active ability~</span>

    <button data-playerid="6933" data-postid="1573" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="Speedle" src="https://secure.gravatar.com/avatar/8b8455fa0201e861b4d8e70042dea3a2?s=160&amp;d=retro&amp;r=g" height="80" width="80">
            <div class="badge-wrapper">
                <span class="level">10</span>
                <img alt="Supporter Level 10" src="https://mazebert.com/assets/images/supporter-level-bg.png?t=1690908854" srcset="https://mazebert.com/assets/images/supporter-level-bg@2x.png?t=1690908854 2x">
            </div>
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/9295/">Speedle</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;86<br>
                Rank:&nbsp;1323<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399207205">
        </div>
        <a href="https://mazebert.com/supporters/rag-nar-rog-supporter-pack/">
            <img alt="Rag nar Rog Supporter" style="float: right;" src="https://mazebert.com/assets/images/rnr-supporter-badge.png?t=1690908854" srcset="https://mazebert.com/assets/images/rnr-supporter-badge@2x.png?t=1690908854 2x"/>
        </a><br>
    </div>

    <a id="1574"></a>

    <span class="post-content-text">LVLing

The potion quality DEPENDS ON THE LEVEL of the Mystical Spring.

Base attack: (no attack)
Base speed: (no attack speed)
Range: (no range)
Gender: (no gender)

We have tower lvl 1 &amp; sooooooo?

Got it?

P.S. Acivation cost: 500/1000/1500/2000... or 500/1000/2000/4000



</span>

    <button data-playerid="9295" data-postid="1574" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="jhoijhoi" src="https://secure.gravatar.com/avatar/03c60ecedf90019fc1b53d97578a344d?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/7623/">jhoijhoi</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;112<br>
                Rank:&nbsp;264<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399208912">
        </div>
    </div>

    <a id="1577"></a>

    <span class="post-content-text">Hmm, I guess it'd level up the same way any other tower does. So if you want good quality potions from the Mystical Spring, it'll need to be a high level (maybe it could even drop a unique purple at level 99?). Is that what you meant? 

Edit: Oh, I understand now, because I suggested no attack and no range, it can't level up the normal way. Maybe it could have an attribute like Dark Forge items: "Every time a tower imbued with an elixir gains experience, it loses 15% of it as tribute to the Mystical Well".

Increased activation cost sounds harsh, especially if you're sinking all your money into buying the *chance* of potions dropping.

Edit edit: The original post has been edited to reflect suggestions in the thread. I like the 10 seconds threshold because it means the Lucky Wish active is not restricted to "rounds" (as you can sometimes kill rounds that quickly), making it more likely for elixirs to spawn.</span>

    <button data-playerid="7623" data-postid="1577" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="Eaebon" src="https://secure.gravatar.com/avatar/50ac63adba3bc4a3da00e617af496048?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4>Eaebon</h4>
            <h5 class="subtitle">
                Level:&nbsp;-<br>
                Rank:&nbsp;-<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399243220">
        </div>
    </div>

    <a id="1579"></a>

    <span class="post-content-text">maybe let it gain exp upon activation of overflow. </span>

    <button data-playerid="0" data-postid="1579" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="jhoijhoi" src="https://secure.gravatar.com/avatar/03c60ecedf90019fc1b53d97578a344d?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/7623/">jhoijhoi</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;112<br>
                Rank:&nbsp;264<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399252559">
        </div>
    </div>

    <a id="1580"></a>

    <span class="post-content-text">Edited original post to include the exp on activation of Overflow idea + my idea for a purple potion drop at level 99.</span>

    <button data-playerid="7623" data-postid="1580" class="edit-post-button">Edit</button>
</div>
<hr/>

        
<div class="post-content">
    <div class="post-author">
        <div class="profile-picture">
            <img class="shadow" alt="BimoIch" src="https://secure.gravatar.com/avatar/781fbb870ccd7b5e8a232d2f7adfd6cc?s=160&amp;d=retro&amp;r=g" height="80" width="80">
        </div>
        <div class="profile-content">
            <h4><a href="https://mazebert.com/player/6933/">BimoIch</a></h4>
            <h5 class="subtitle">
                Level:&nbsp;83<br>
                Rank:&nbsp;1621<br/><br/>
            </h5>
        </div>
        <div class="profile-more-content post-created" data-ts="1399279158">
        </div>
    </div>

    <a id="1581"></a><a id="latest"></a>

    <span class="post-content-text">oh,and i think about something else : the tower will be unaffected by lucky pants.

since the pants is uncommon,you know what i mean :p

if the tower can affected by lucky pants,chance of overflow can be so huge,and we got flooded by potion.</span>

    <button data-playerid="6933" data-postid="1581" class="edit-post-button">Edit</button>
</div>
<hr/>

    </div>

    <script>
    var formatTimeDelta = {
        ONE_MINUTE: 60,
        ONE_HOUR: 3600,
        ONE_DAY: 86400,
        ONE_MONTH: 2592000,
        ONE_YEAR: 31536000,

        formatTimeValueSuffix: function (value, unit, suffix) {
            value = Math.floor(value);
            if (value < 1 || value > 1) {
                unit += "s";
            }
            return value + " " + unit + suffix;
        },

        formatTimeValue: function (value, unit) {
            return this.formatTimeValueSuffix(value, unit, " ago");
        },

        formatYears: function (delta) {
            return this.formatTimeValue(delta / this.ONE_YEAR, "year");
        },

        formatMonths: function (delta) {
            return this.formatTimeValue(delta / this.ONE_MONTH, "month");
        },

        formatDays: function (delta) {
            return this.formatTimeValue(delta / this.ONE_DAY, "day");
        },

        formatHours: function (delta) {
            return this.formatTimeValue(delta / this.ONE_HOUR, "hour");
        },

        formatMinutes: function (delta) {
            return this.formatTimeValue(delta / this.ONE_MINUTE, "minute");
        },

        formatSeconds: function (delta) {
            return this.formatTimeValue(delta, "second");
        },

        formatDelta: function (delta) {
            if (delta <= 0) {
                return 'now';
            }

            if (delta < this.ONE_MINUTE) return this.formatSeconds(delta);
            if (delta < this.ONE_HOUR) return this.formatMinutes(delta);
            if (delta < this.ONE_DAY) return this.formatHours(delta);
            if (delta < this.ONE_MONTH) return this.formatDays(delta);
            if (delta < this.ONE_YEAR) return this.formatMonths(delta);
            return this.formatYears(delta);
        },

        formatDeltaVerbose: function(delta) {
            if (delta < 0) {
                delta = 0;
            }

            return this.formatTimeValueSuffix(delta / this.ONE_DAY, 'day', ', ') +
                   this.formatTimeValueSuffix((delta % this.ONE_DAY) / this.ONE_HOUR, 'hour', ', ') +
                   this.formatTimeValueSuffix((delta % this.ONE_HOUR) / this.ONE_MINUTE, 'minute', ', ') +
                   this.formatTimeValueSuffix(Math.floor(delta) % this.ONE_MINUTE, 'second', '');
        },

        formatElement: function($element) {
            var delta = (Date.now() / 1000) - $element.data('ts');
            $element.html(this.formatDelta(delta));

            return delta;
        },

        format: function($selector) {
            var that = this;
            var elementsToRefresh = [];

            $selector.each(function() {
                var delta = that.formatElement($(this));

                if (delta < that.ONE_HOUR) {
                    elementsToRefresh[elementsToRefresh.length] = $(this);
                }
            });

            if (elementsToRefresh.length > 0) {
                setInterval(function(){
                    for (var i = 0; i < elementsToRefresh.length; ++i) {
                        that.formatElement(elementsToRefresh[i]);
                    }
                }, 1000);
            }
        },
    }
</script>
    <script>
        $(document).ready(function() {
            formatTimeDelta.format($('.post-created'));
        });
    </script>

            <div id="card-preview" style="position: absolute; display: none; top: 0; left: 0;">
    <img src="" srcset="" alt="Preview" />
</div>

<script>
$(document).ready(function() {
    var CardInfo = function() {
        this.id = 0;
        this.type = null;
    };

    var CardPreview = function() {

        this.calculateCardTypePrefix = function(type) {
            if (type === 'hero') return 'heroes/golden/Hero';
            if (type === 'tower') return 'towers/golden/Tower';
            if (type === 'item') return 'items/golden/Item';
            if (type === 'potion') return 'potions/golden/Potion';
            return '';
        };

        this.calculateImagePath = function(cardInfo) {
            var path = 'https://mazebert.com/wp-content/themes/twentytwelve/images/';
            path += this.calculateCardTypePrefix(cardInfo.type);
            path += '-' + cardInfo.id + '-card-preview.png';

            return path;
        };

        this.calculateImagePath2x = function(cardInfo) {
            var path = 'https://mazebert.com/wp-content/themes/twentytwelve/images/';
            path += this.calculateCardTypePrefix(cardInfo.type);
            path += '-' + cardInfo.id + '-card.png';

            return path;
        };

        this.show = function(cardInfo) {
            var image = $('#card-preview img');
            image.attr('src', this.calculateImagePath(cardInfo));
            image.attr('srcset', this.calculateImagePath2x(cardInfo) + " 2x");
            $('#card-preview').show();
        };

        this.hide = function() {
            $('#card-preview').hide();
        };

        this.update = function(x, y) {
            var offsetX = 60;
            if (x > $(document).width() / 2) {
                offsetX = -320 - 30;
            }
            $('#card-preview').css('left', x + offsetX).css('top', y - 212);
        };
    };

    var CardInfoParser = function() {

        this.parseCssInfo = function(cssClass, classPrefix, defaultValue) {
            if (cssClass.indexOf(classPrefix) === 0) {
                return cssClass.substr(classPrefix.length);
            } else {
                return defaultValue;
            }
        };

        this.parseCardInfo = function(classes) {
            var cardInfo = new CardInfo();
            classes = classes.split(' ');

            for (var i = 0, length = classes.length; i < length; ++i) {
                cardInfo.id = this.parseCssInfo(classes[i], 'card-id-', cardInfo.id);
                cardInfo.type = this.parseCssInfo(classes[i], 'card-type-', cardInfo.type);
            }

            return cardInfo;
        };
    };

    var cardPreview = new CardPreview();
    var cardInfoParser = new CardInfoParser();

    $('span.card-info').mouseenter(function() {
        var classes = $(this).attr('class');
        cardPreview.show(cardInfoParser.parseCardInfo(classes));
    }).mouseleave(function() {
        cardPreview.hide();
    }).mousemove(function(event) {
        var relX = event.pageX;
        var relY = event.pageY;

        cardPreview.update(relX, relY);
    });
});
</script>
        </main>

        <footer class="footer">
            <div class="content has-text-centered">
                <p>
                    <strong>Mazebert TD</strong> by Andreas Hager.<br/>
                    <a href="https://mazebert.com/privacy-policy/">Privacy</a>. <a href="https://mazebert.com/legal-notice/">Legal notice</a>.
                </p>
            </div>
        </footer>

        <script>
            $(document).ready(function() {
                $('.nav-mobile').click(function(){
                    $('#nav-icon').toggleClass('open');
                    $('.nav-menu').toggleClass('open');
                });
            });
        </script>

    </body>
</html>

